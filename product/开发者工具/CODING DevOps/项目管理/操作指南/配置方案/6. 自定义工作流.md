本文为您详细介绍如何自定义配置方案中的工作流。

## 进入项目
1. 登录 [CODING 控制台](https://console.cloud.tencent.com/coding)，单击**立即使用**进入 CODING 使用页面。
2. 单击页面右上角的 <img src ="https://main.qcloudimg.com/raw/d94a8e60dd3a41d0af07d72ae0e9d70e.png" style ="margin:0">，进入项目列表页面，单击项目图标进入目标项目。
3. 单击进入左侧菜单栏中的**项目协同**功能。

## [功能介绍](#intro)

企业团队在飞速发展的过程中，由于业务扩张，项目众多，不同项目间的研发模式往往存在巨大的差异，同时一个项目内也存在着来自不同需求方的多样化需求，难以进行统一的研发管理。

借助自定义工作流功能，可以自定义所有事项（史诗、用户故事、需求、任务、缺陷、子工作项）的工作流状态与步骤，例如，将「未开始→处理中→已完成」修改为「需求调研→需求评审→产品设计→产品开发→功能验收」工作流。能够在满足不同类型团队的个性化需求的同时，还能够配置统一的事项流转规则与流转方式。

## [示例配置](#example)

本文将通过**「团队级工作流配置」**与**「项目内工作流配置」**两个模块，结合具体项目，介绍如何自定义团队专属的工作流。操作顺序为：

1.  先创建团队级状态，再从已有的团队级状态中，为不同的事项类型设置所需工作流状态；

2.  团队级工作流配置完成后，可在不同项目内，根据实际情况，调整各事项（史诗、用户故事、需求、任务、缺陷）中工作流流转规则。

## [团队级工作流配置](#global)

### [确认权限](#permission)

团队级状态设置影响整个团队的事项状态，因此仅有开启「管理权限」的用户组成员才能修改或添加自定义状态，可点击左下角的“团队设置中心”按钮，在「组织与成员」->「权限配置」->「权限组」中查看详情。

![](https://help-assets.codehub.cn/enterprise/20220909164603.png)

以游戏行业内美术开发项目为例，工作流状态一般涵盖 「文案确认」->「UI 设计」->「原画设计」->「模型设计」->「动画特效设计」->「确认交付」，项目类型在团队内属于刚需且工作流存在特殊性，因此可以在[自定义事项类型](/docs/collaboration/configuration/type.html#global)中创建自定义「美术需求」后，对该事项类型设置个性化工作流。

![](https://help-assets.codehub.cn/enterprise/20220401171620.png)

### [设置状态](#create)

1.  点击左下角的“团队设置中心”按钮，选择 「功能设置」->「项目协同」->「事项属性」即可进入状态设置页。通过右上方「创建状态」，填写状态名称、设定状态类型、添加状态描述（选填）后，即可创建自定义状态。  
  
  将美术开发项目工作流中涉及到的状态添加进事项状态内，名称不可重复。

![](https://help-assets.codehub.cn/enterprise/20220401171406.png)

2.  前往「事项类型」，在「美术需求」的「操作」中选择「工作流」。

![](https://help-assets.codehub.cn/enterprise/20220401171846.png)

3.  进入工作流详情页后，选择「添加状态」，将涉及到的状态添加至工作流中，若打开「任何状态可转换到该状态」选项，则表示项目内的所有状态都可以切换至该目标状态。可在工作流左侧纵轴中设置初始状态，或将状态移除工作流。

![](https://help-assets.codehub.cn/enterprise/20210720183837.png)

![](https://help-assets.codehub.cn/enterprise/20210720184534.png)

### [修改/删除状态](#edit)

在事项状态设置页内任一状态末端的「操作」菜单中，可编辑或删除状态。

![](https://help-assets.codehub.cn/enterprise/20220401171956.png)

### [设置步骤](#process)

步骤是指各状态间的流转，用于定义初始状态至目标状态时的流转过程。

1.  在美术需求工作流详情页中选择「创建步骤」。

![](https://help-assets.codehub.cn/enterprise/20210721110409.png)

2.  可以指定该步骤的「开始状态」和「目标状态」，步骤名称默认为目标状态，也可进行修改。确认后即可「创建」。
  
  例如确认文案后仅需制作原画，则可设定开始与目标状态为「文案确认」->「原画设计」，名称设置为「仅制作原画」，完成创建。

![](https://help-assets.codehub.cn/enterprise/20210721110739.png)

3.  也可以直接在「任何状态」栏中创建流转步骤，此时「开始状态」和「目标状态」由表格横列与纵列对应状态固定，仅能修改「步骤名称」。

![](https://help-assets.codehub.cn/enterprise/20210721111026.png)

> 注意：在设置步骤时需要注意冲突。如图所示，由于设置了「任何状态」都可以切换至「文案确认」状态，因此覆盖了其他状态单独切换至「文案确认」状态的步骤，仅生效「任何状态」->「文案确认」步骤。
> ![](https://help-assets.codehub.cn/enterprise/20210721141921.png)

4.  选择任一步骤，在右侧「步骤设置」中，可以修改步骤名称，或通过下方选项删除该步骤。

![](https://help-assets.codehub.cn/enterprise/20210721142227.png)

### [配置规则](#rules)

为工作流配置规则可以帮助团队在执行状态转换前检测限制条件，或者转换后自动执行多个自定义操作。

通过工作流详情页的「配置规则」，或选择某一指定状态，即可在右侧「步骤设置」->「规则」->「+」进行步骤的规则配置。共有四种类型：限制步骤权限、附加属性、更改处理人、更改属性值，可根据团队需求进行配置。

![](https://help-assets.codehub.cn/enterprise/20210721142643.png)

#### [限制步骤权限](#rules-1)

默认情况下所有步骤都不会限制成员执行。通过设置限制步骤权限，可以仅放行项目中特定的用户组执行此流转步骤。例如需要项目管理员和产品经理确认后并变更至“已完成”步骤，那么可以在规则中添加相应的用户组成员，以防其他成员误操作。

![](https://help-assets.codehub.cn/enterprise/20220630161533.png)

#### [附加属性](#rules-2)

该规则可配置多个属性组成表单，当状态变更时，成员需要录入配置的内容，状态才会进行变更。

例如在进行设计时发现文案设定错误，需记录错误并将状态转为「文案确认」，则可增加附加属性「评论」，并设定该属性必填，则处理人必须在评论内填写文案错误后才能变更状态。

![](https://help-assets.codehub.cn/enterprise/20210721144108.png)

#### [更改处理人](#rules-3)

若配置该规则，当状态变更后，将自动修改事项处理人。处理人支持选择默认属性、自定义成员属性和团队成员。

例如当动画特效设计完成，状态变更为「确认交付」后需要自动交由「需求结果评估员」汇总处理，需要进行以下设置：

1.  具备「项目协同设置」团队权限的用户组成员在「事项类型」中新建自定义成员属性。

![](https://help-assets.codehub.cn/enterprise/20211118183711.png)

2.  指定能够成为评估员的团队成员。

![](https://help-assets.codehub.cn/enterprise/20211118185327.png)

3.  当步骤切换为「确认交付」时，选择处理人。

![](https://help-assets.codehub.cn/enterprise/20211118184906.png)

#### [更改属性值](#rules-4)

若配置该规则，当事项状态变更后，将自动修改已配置的属性值为指定的值。

例如需要实现如下工作流，当步骤调整为「确认交付」后，事项优先级调整为「低」。

则可进行以下操作：选择「配置规则」中的「更改属性值」，将「当前步骤」设置为「任何状态」->「确认交付」，选择「优先级」属性，将属性值更改为「低」，即可实现上述工作流。

![](https://help-assets.codehub.cn/enterprise/20210721153514.png)

### 工作流视图

工作流配置页包含两种视图：表格视图和列表视图。

-   在**表格视图**下，首列与首行分别表示开始状态与结束状态，表格内的方块表示状态变更时所提示的**步骤**。

![](https://help-assets.codehub.cn/enterprise/20210721155031.png)

-   在**列表视图**下，每个状态配有一个表格，表格内展示了由当前状态作为开始状态时，涉及的多个步骤与用户权限。

![](https://help-assets.codehub.cn/enterprise/20210721155204.png)

设置确认无误后，选择「应用配置」，该工作流将对所有项目生效。

![](https://help-assets.codehub.cn/enterprise/20210721155343.png)

## [项目内工作流配置](#project)

进入任一项目后，在左侧菜单中进入「项目设置」->「项目协同」->「事项类型」，通过右侧「添加事项类型」，即可新增在团队级工作流中配置完成的「美术需求」事项，并根据项目的实际开发工作流，在「操作」中对「工作流」进行修改，**可配置选项、操作与「团队级工作流配置」一致，可参考上文进行配置。**

「应用配置」后对该工作流的修改将仅在本项目内生效。

![](https://help-assets.codehub.cn/enterprise/20220401172121.png)

在**经典项目管理**和 **Scrum 敏捷项目管理**下，规则内可更改的属性值有所不同。

例如：在经典项目管理下，需要实现「美术需求」中的事项流转至「确认交付」时，进度自动更新为 100%。

则可进行以下操作：在「美术需求」工作流中选择「更改属性值」，将当前步骤设置为「任何状态 -> 确认交付」，将更改的属性选择为「进度」，填写进度为「100」，即可实现上述工作流。**注意：由于存在子需求/子任务，因此在需求/任务工作流中均需进行配置。**

![](https://help-assets.codehub.cn/enterprise/20210721163028.png)

## [应用其他项目配置方案](#applicate)

点击配置页右上角的“应用其他配置方案”按钮即可一键应用其他项目中已配置好的属性与工作流配置，提升工作效率。

![](https://help-assets.codehub.cn/enterprise/20220401172702.png)
