## 步骤一：创建实时同步任务
### 进入同步任务列表
在数据集成页面下，单击**同步链路 > 实时同步**即可进入同步任务列表。
### 新建同步任务并选择配置模式
在弹窗中配置任务基本信息，单击**确定**后即可进入任务配置页面。

| 参数 | 说明 | 
|---------|---------|
| 任务名称| <li>必填项<li>命名规则：仅支持中文、英文、数字和下划线<li>长度：不可超过100字符| 
| 任务模式	| 画布模式：主要采用可视化拖拽方式，适用于包含清洗环节、多对多数据链路。默认项| 
| 描述	| 选填项| 

 
## 步骤二：数据节点配置
创建的新任务后在任务列表中单击**任务名称**即可进入任务画布或表单界面。画布模式下，可从右侧节点菜单直接拖拽数据节点及连线，系统将根据节点间连线关系自动创建数据流链路。

### 条件与限制
- 当前版本，画布模式仅支持包含一个写入节点；单个读取节点仅支持连接一个下游节点。
- 任务中不可存在未连线的孤立节点，否则任务将提交失败。
- 数据节点：默认命名规则为：${节点类型}_${编码}。

### 配置读取节点
读取节点配置包括基本信息、数据来源、数据字段三部分。
- 基本信息
节点名称不可为空，且单个任务内不可存在同名的数据节点。
- 数据来源
配置需要读取的库表对象以及同步方式等信息。
>? 若数据源配置的数据库账号不具备读写权限将导致任务运行失败，请根据实际读写场景配置具备相应权限的账号。

- 数据字段
根据配置的数据表对象，系统支持默认拉取字段元数据信息以及手动配置字段两种方式。
	- 默认拉取：针对 MySQL、Hive、PostgreSQL 等类型，系统已支持根据其库表信息自动拉取元数据字段及类型，无需手动编辑。
	- 手动配置：文件（如 HDFS、COS）以及列式存储数据源（如 HBase、Mongo）等数据源系统不支持自动拉取元数据，可单击**字段配置**手动添加字段名称及类型。读取节点还额外支持配置时间参数以及常量。
![](https://qcloudimg.tencent-cloud.cn/raw/bbc7ceaa6de0d1bd2c1266ae38e19224.png)

>? 
>- 时间参数字段：仅离线任务的读取节点支持配置时间参数字段，常用将实例运行时间值写入表的一级或多级分区 。
>- 常量字段：仅读取节点支持配置常量字段。常量字段可在来源与目标表字段个数不一致的情况下固定将某个常量值写入目标表。

### 配置转换节点
转换节点配置包括基本信息、转换规则、数据字段三部分。其中，转换转换节点必须作为读取节点下游，在创建与读取节点连线后系统将自动获取上游节点内字段信息，同时根据转换规则完成数据转换。
- 基本信息
配置节点名称信息。节点名称不可为空，且单个任务内不可存在同名的数据节点。
- 转换规则
配置字段或数据级转换规则，其中字段信息继承自上游节点，在与上游节点连线后系统将自动获取上游节点内字段信息。
- 数据字段
默认拉取上游节点全部数据字段用于后续写入节点映射。

### 配置写入节点
写入节点配置包括基本信息、数据来源、数据字段、字段映射四部分。写入节点将根据连线关系，将上游数据内容写入目标对象内。
- 基本信息
节点名称不可为空，且单个任务内不可存在同名的数据节点。
- 数据来源
配置需要读取的库表对象以及同步方式等信息。
>? 若数据源配置的数据库账号不具备读写权限将导致任务运行失败，请根据实际读写场景配置具备相应权限的账号。

- 数据字段
根据配置的数据表对象，系统支持默认拉取字段元数据信息以及手动配置字段两种方式。
	- 默认拉取：针对 MySQL、Hive、PostgreSQL 等类型，系统已支持根据其库表信息自动拉取元数据字段及类型，无需手动编辑。
	- 手动配置：文件（如 HDFS、COS）以及列式存储数据源（如 HBase、Mongo）等数据源系统不支持自动拉取元数据，可单击**字段配置**手动添加字段名称及类型。
- 字段映射
写入节点相对于读取节点需额外配置字段映射关系。字段映射关系旨在通过连线的方式指定目标字段内容的来源，支持同名映射、同行映射、以及手动连线三种方式配置来源与目标节点间关系。

![](https://qcloudimg.tencent-cloud.cn/raw/a6b7130dca47175085d7494a116d4ee5.png)

>? 
>- 配置字段映射的前提为当前写入节点有已连线的来源（读取节点或转换节点）。
>- 未配置映射关系的目标字段内容将为空。
>- 若来源字段类型与目标字段类型间无法转换，可能会导致任务失败。

## 步骤三：实时任务属性配置
实时任务属性配置包括**基本属性**和**资源配置**两部分：
![](https://qcloudimg.tencent-cloud.cn/raw/fd7b1dcf9937f481c6f2f63621bc7215.png)
<table>
<thead>
<tr>
<th >类别</th>
<th >参数</th>
<th >说明</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan=3>基本属性</td>
<td >任务名称/类型	</td>
<td >展示当前任务名称及类型基本信息	</td>
</tr>
<tr>
<td >责任人</td>
<td >对此任务负责的一个或多个空间成员名称，默认为任务创建者	</td>
</tr>
<tr>
<td >描述</td>
<td >展示当前任务备注信息</td>
</tr>
<tr>
<td rowspan=4>资源配置</td>
<td >集成资源组	</td>
<td >指定当前任务使用的集成资源组名称，一个任务仅可绑定一个资源组	</td>
</tr>
<tr>
<td >JobManager</td>
<td >支持0.25、0.5、1、2C，设置后任务将默认占用此规格 CU<br>任务实际占用 CU 数= JobManager 规格 + TaskManager 规格 × 并行度</td>
</tr>
<tr>
<td >TaskManager</td>
<td >支持0.25、0.5、1、2CU，设置后任务将默认占用此规格 CU<br>任务实际占用 CU 数= JobManager 规格 + TaskManager 规格 × 并行度</td>
</tr>
<tr>
<td >并行度</td>
<td >每个算子的默认并行度</td>
</tr>
</tbody>
</table>

## 步骤四：任务提交		
实时同步任务在配置完成后可配置运行策略并提交到生产环境中运行。目前可在任务配置页面支持保存、提交、锁定/解锁以及前往运维操作。
![](https://qcloudimg.tencent-cloud.cn/raw/f7825f017b6a40ccb99c65dcec6385ce.png)

| 序号 | 参数 | 说明 |
|---------|---------|---------|	
| 1	| 保存	| 保存当前任务配置信息，包括数据节点配置、节点连线、任务属性和任务调度配置| 
| 2	| 提交	| 将当前任务提交至生产环境，提交时根据当前任务是否有生产态任务可选择不同运行策略<li>若当前任务无生效的线上任务，即首次提交或线上任务处于“失败”状态，可直接提交</li><li>若当前任务存在“运行中”或“暂停”状态的线上任务需选择不同策略。**停止线上作业**将抛弃之前任务运行位点，从头开始消费数据，**保留作业状态**将在重启后从之前最后消费位点继续运行。![](https://qcloudimg.tencent-cloud.cn/raw/28c6e16b086d7d3fea34c9366290290f.png)<br>说明：单击**立即启动**任务将在提交后立即开始运行，否则需要手动触发才会正式运行| 
| 3	| <nobr>锁定/解锁	| 默认创建者为首个持锁者，仅允许持锁者编辑任务配置及运行任务。若锁定者5分钟内没有编辑操作，其他人可点击图标抢锁，抢锁成功可进行编辑操作| 
| 4| 	前往运维	| 根据当前任务名称快捷跳转至任务运维页面| 

  
  
  

